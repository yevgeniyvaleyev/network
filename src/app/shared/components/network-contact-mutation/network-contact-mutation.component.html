<app-layout [title]="title()" [config]="tabsConfig" (tabClick)="onTabClick($event)" [isProgress]="isProgress()">
  @if(error()) {
  <mat-card class="error">
    {{ error() }}
  </mat-card>
  }

  <form [formGroup]="form">
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Phone Number</mat-label>
      <input matInput formControlName="phoneNumber">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Last Connect</mat-label>
      <input matInput [matDatepicker]="lastConnectPicker" formControlName="lastConnect" required>
      <mat-datepicker-toggle matIconSuffix [for]="lastConnectPicker"></mat-datepicker-toggle>
      <mat-datepicker #lastConnectPicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Planned Reconnection Date</mat-label>
      <input matInput [matDatepicker]="reconnectPicker" formControlName="plannedReconnectionDate">
      <mat-datepicker-toggle matIconSuffix [for]="reconnectPicker"></mat-datepicker-toggle>
      <mat-datepicker #reconnectPicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Planned Reconnection Time</mat-label>
      <input matInput type="time" formControlName="plannedReconnectionTime">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Job Title</mat-label>
      <input matInput formControlName="jobTitle">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Worked At</mat-label>
      <input matInput formControlName="workedAt">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Communication Channel</mat-label>
      <mat-select formControlName="preferredCommunicationChannel">
        @for (channel of communicationChannels; track channel) {
        <mat-option [value]="channel">{{ channel }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Communication Language</mat-label>
      <mat-select formControlName="communicationLanguage">
        @for (language of communicationLanguages(); track language) {
        <mat-option [value]="language">{{ language }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Reconnection Frequency (days)</mat-label>
      <input matInput type="number" formControlName="reconnectionFrequency" required>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Planning Status</mat-label>
      <mat-select formControlName="planningStatus">
        @for (status of planningStatuses; track status) {
        <mat-option [value]="status">{{ status }}</mat-option>
        }
      </mat-select>
    </mat-form-field>



    <mat-form-field>
      <mat-label>Notes</mat-label>
      <textarea matInput formControlName="notes"></textarea>
    </mat-form-field>
  </form>
</app-layout>